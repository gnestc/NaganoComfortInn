%h2 Résultats

%nav.navbar.navbar-light.bg-light
  = form_for :res, method: 'post', :html => {:class => 'form-inline'}, remote: true, url: results_path do |f|
    %div.bar-element
      = f.label :start_date, "Arrivée"
    %div.bar-element
      = f.text_field :start_date, class: 'datepicker', value: params[:res][:start_date]
    %div.bar-element
      = f.label :end_date, "Départ"
    %div.bar-element
      = f.text_field :end_date, class: 'datepicker', value: params[:res][:end_date]

    %div.bar-element
      = f.label :guests, "Personnes"
    %div.bar-element
      = f.text_field :guests, :style=>"width: 50px; height: 29px;", value: params[:res][:guests]
    %div.bar-element
      = f.label :view_id, "Vue"
    %div.bar-element
      = f.select :view_id, options_for_select(@views.map{|r| [r.view_desc, r.id]}, selected: params[:res][:view_id]), :include_blank => "Choisir"
    %div.bar-element
      = f.label :room_type_id, "Type de chambre"
    %div.bar-element
      = f.select :room_type_id, options_for_select(@room_types.map{|r| [r.type_desc, r.id]}, selected: params[:res][:room_type_id]), :include_blank => "Choisir"
    %div.bar-element
      = f.label :contigues, "Contiguïté"
    %div.bar-element
      = f.check_box :contigues, :style=>"width: 20px; height: 20px;"
    %div.bar-element
      = f.submit "Rechercher", :html => {:class => 'btn.btn-outline-success.my-2.my-sm-0'}
%p
  %div#results
    = render partial: 'rooms', locals: { rooms: @rooms, price_by_period: @price_by_period}
